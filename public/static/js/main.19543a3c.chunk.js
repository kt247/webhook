(this["webpackJsonpoeco-webhook-client"]=this["webpackJsonpoeco-webhook-client"]||[]).push([[0],{11:function(e,a,t){e.exports=t.p+"static/media/logo.5d5d9eef.svg"},14:function(e,a,t){e.exports=t(30)},22:function(e,a,t){},29:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);t(15);var n=t(0),c=t.n(n),s=t(2),o=t.n(s),l=(t(22),t(3)),i=t(11),r=t.n(i);t(29);var m=Object(l.b)((function(e){return e}))((function(e){var a=e.connectStatus,t=e.notifications.map((function(e,a){return c.a.createElement("div",{key:a,className:"detail"},c.a.createElement("div",null,c.a.createElement("div",{className:"d-inline font-weight-bold"},"Type:"),c.a.createElement("div",{className:"d-inline font-weight-bold p-2"},e.type)),c.a.createElement("div",null,c.a.createElement("div",{className:"d-inline font-weight-bold"},"Result:"),e.result?c.a.createElement("div",{className:"d-inline p-2 text-success"},"Success"):c.a.createElement("div",{className:"d-inline p-2 text-danger"},"Failed")),c.a.createElement("div",null,c.a.createElement("div",{className:"d-inline font-weight-bold"},"Message:"),c.a.createElement("div",{className:"d-inline p-2"},e.message)),c.a.createElement("div",null,c.a.createElement("div",{className:"d-inline font-weight-bold"},"Data:"),c.a.createElement("div",{className:"d-inline p-2"},JSON.stringify(e.data))),c.a.createElement("hr",null))}));return c.a.createElement("div",{className:"d-flex flex-column min-vh-100"},c.a.createElement("header",{className:"d-flex align-items-center justify-content-center"},c.a.createElement("nav",{className:"navbar"},c.a.createElement("img",{className:"App-logo",src:r.a,alt:"ECO"}),c.a.createElement("span",{className:"title"},"Open ECO Webhook - For testing purposes only")),c.a.createElement("nav",{className:"navbar"},c.a.createElement("span",{className:"title"},"Status:",a?c.a.createElement("span",{className:"text-success"},c.a.createElement("div",{className:"dot"},c.a.createElement("div",{className:"dot-green"})),"Connected"):c.a.createElement("span",{className:"text-danger"},c.a.createElement("div",{className:"dot"},c.a.createElement("div",{className:"dot-red"})),"Disconnected")))),c.a.createElement("main",{className:"d-flex align-items-top justify-content-center"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-9 col-md-7 col-lg-12 mx-auto"},c.a.createElement("div",{className:"card card-signin my-5"},c.a.createElement("div",{className:"card-body text-center"},c.a.createElement("h5",{className:"card-title"},"Notifications"),t)))))),c.a.createElement("footer",{className:"d-flex align-items-center justify-content-center"},c.a.createElement("div",{className:"container text-center"},c.a.createElement("span",{className:"text-white-50"},"\xa9 2020 Finviet Corporation. All rights reserved."))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var d=t(1),N=t(12),u=t(13),E=t(7),v={connectStatus:!1,notifications:[]};function A(e){return{type:"UPDATE_CONNECT_STATUS",payload:e}}var p=null,f=function(){var e=new WebSocket("".concat("wss://fv-webhook.herokuapp.com","/ws/dashboard"));e.onmessage=h,e.onopen=_,e.onclose=I,e.onerror=g},h=function(e){try{var a=JSON.parse(e.data);b(a)}catch(t){}},_=function(){console.log("Connection established."),p.dispatch(A({status:!0}))},g=function(){p.dispatch(A({status:!1}))},I=function(e){1e3!==e.code&&(console.log("WebSocket connection closed with code: ".concat(e.code,".")),p.dispatch(A({status:!1})),setTimeout((function(){f()}),1e3))},b=function(e){var a=e.event,t=e.payload;switch(a){case"REGISTRATION":case"BALANCE":case"CHANGE_PIN":case"LINK_BANK":case"UNLINK_BANK":case"CASHIN_VIA_LINKED_BANK":case"CASHIN_VIA_UNLINK_BANK":case"CASHOUT_VIA_LINKED_BANK":case"CASHOUT_VIA_UNLINK_BANK":case"TRANSFER":case"ALIPAY":p.dispatch(function(e,a){return{type:e,payload:a}}(a,t))}},S=Object(d.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_CONNECT_STATUS":return Object(E.a)({},e,{connectStatus:a.payload.status});case"REGISTRATION":case"BALANCE":case"CHANGE_PIN":case"LINK_BANK":case"UNLINK_BANK":case"CASHIN_VIA_LINKED_BANK":case"CASHIN_VIA_UNLINK_BANK":case"CASHOUT_VIA_LINKED_BANK":case"CASHOUT_VIA_UNLINK_BANK":case"TRANSFER":case"ALIPAY":return Object(E.a)({},e,{notifications:[].concat(Object(u.a)(e.notifications),[a.payload])});default:return e}}),Object(d.a)(N.a));window.WebSocket?(p=S,f()):console.log("WebSocket is not supported by your browser."),o.a.render(c.a.createElement(l.a,{store:S},c.a.createElement(c.a.StrictMode,null,c.a.createElement(m,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.19543a3c.chunk.js.map